В папке шаблона templates/eshop_bootstrap_v4 скопировал шаблоны компонентов catalog.section,  catalog.item, catalog.compare.list и комплексного компонента catalog.

Добавил уникальные id для тэгов span, input, div в шаблоне catalog.item/card для отслеживания и изменения реакции на добавление в сравнение.

Включил сравнение в параметрах компонента catalog.

Добавил стили для div с чекбоксом, которые работают при добавлении товара в сравнение.

Добавил в result_modifier шаблона компонента catalog.item параметр arResult["COMPARE_ISSET"] для отслеживания из сессии данных о наличии товаров в сравнении и отображении информации при загрузке страницы каталога.

Добавил в component_epilog компонента catalog.item скрипты на отслеживание чекбокса "Сравнение". При добавлении в сравнение товара div с чекбоксом меняет цвет и появляется подпись "Уже в сравнении".

В result_modifier шаблона компонента catalog.compare.result добавил определение arResult ["DIFFERENT"] = "Y" для отображения только различных своств товара. В шаблоне компонента убрал кнопку переключения на все свойства.
